<div class="row" ng-controller="CabinetsController">
	<h4>Your Wish List</h4>
	<table class="table table-hover">
		<thead>
			<th>Name</th>
			<th>Category</th>
			<th>Door</th>
			<th>Color</th>
			<th>Width</th>
			<th>Height</th>
			<th>Depth</th>
			<th>Count</th>
			<th>Price</th>
		</thead>
		<tbody>
			<tr ng-repeat="cabinet in wishListArr">
				<td>{{cabinet.name}}</td>
				<td>{{cabinet.category.name}}</td>
				<td>{{cabinet.door.name}}</td>
				<td ng-init="editColor = false">
					<span ng-hide="editColor">{{cabinet.color.name}}</span>
					<select ng-model="cabinet.color" ng-options="color.name for color in cabinetColorsArr" ng-show="editColor" my-enter="wishListArr.$save(cabinet); editColor = false" ng-model="cabinet.color"></select>
					<span style="cursor:pointer" class="glyphicon glyphicon-pencil" ng-click="editColor = !editCount"></span>
				</td>
				<td>{{cabinet.width}}, {{cabinet.widthFraction}}</td>
				<td>{{cabinet.height}}, {{cabinet.heightFraction}}</td>
				<td>{{cabinet.depth}}, {{cabinet.depthFraction}}</td>
				<td ng-init="editCount = false">
					<span ng-hide="editCount">{{cabinet.count}}</span>
					<input style="width:50px" ng-show="editCount" my-enter="wishListArr.$save(cabinet); editCount = false" type="number" ng-model="cabinet.count">
					<span style="cursor:pointer" class="glyphicon glyphicon-pencil" ng-click="editCount = !editCount"></span>
				</td>
				<td>{{cabinet.price | currency}}</td>
				<td>
					<button type="button" class="btn btn-danger" data-toggle="modal" data-target=".{{cabinet.$id}}-trash-modal">
						<span class="glyphicon glyphicon-trash"></span>
					</button>
					<div class="modal fade colors-modal {{cabinet.$id}}-trash-modal">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title">You're about to remove cabinet: {{cabinet.name}} from your wish list</h4>
								</div>
								<div class="modal-body">
									<h5>Are you sure?</h5>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Nevermind</button>
									<button type="button" class="btn btn-danger" data-dismiss="modal" ng-click="removeFromWishList(cabinet)">Yes, remove this Cabinet</button>
								</div>
							</div>
							<!-- /.modal-content -->
						</div>
						<!-- /.modal-dialog -->
					</div>
					<!-- /.modal -->
				</td>
				<td>
					<button type="button" class="btn btn-success" ng-click="addToCart(cabinet)">
						<span class="glyphicon glyphicon-shopping-cart"></span>
					</button>
				</td>
			</tr>
			<tr>
				<td colspan="10">
					<h2 class="pull-right">Total: {{wishListPrice() | currency}} </h2>
				</td>
			</tr>

		</tbody>
	</table>
	<button class="btn btn-success pull-right" ng-click="addAllToCart(wishListArr)">Add all to Cart</button>
</div>
